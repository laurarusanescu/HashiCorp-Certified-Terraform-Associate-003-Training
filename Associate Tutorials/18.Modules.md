# Terraform Modules Overview

## Overview
As Terraform configurations grow in complexity, managing all resources in a single directory becomes difficult and risky. **Modules** help organize, encapsulate, and reuse Terraform code, improving maintainability, scalability, and collaboration.

This tutorial introduces what modules are, their purpose, and best practices for using and creating them.

---

## 1. Why Use Modules?
Modules help solve several problems that arise in large Terraform configurations:

### ‚úÖ **Organization**
- Breaks large configurations into smaller, logical components.
- Makes code easier to read, navigate, and update.

### ‚úÖ **Encapsulation**
- Groups related resources to prevent unintended side effects.
- Reduces risk of conflicts and naming collisions.

### ‚úÖ **Reusability**
- Reuse code across projects and environments (e.g., dev, staging, prod).
- Avoid duplication and minimize errors.
- Share modules within teams or publicly.

### ‚úÖ **Consistency & Best Practices**
- Enforces uniform infrastructure standards.
- Reduces misconfigurations (e.g., insecure S3 buckets).
- Centralizes updates ‚Äî one module change applies everywhere it‚Äôs used.

### ‚úÖ **Self-Service**
- Enables non-Terraform users to provision approved infrastructure safely.
- Supports **no-code ready modules** in **HCP Terraform**, allowing teams to reuse standardized components.

---

## 2. What Is a Terraform Module?
A **module** is a collection of `.tf` files in a single directory that work together to manage a set of related resources.

### Example Structure:
```
.
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ main.tf
‚îú‚îÄ‚îÄ variables.tf
‚îú‚îÄ‚îÄ outputs.tf
```
When Terraform runs commands in this directory, it is treated as the **root module**.

Any module referenced by another configuration is called a **child module**.

---

## 3. Calling Modules
Terraform processes configuration files only in the current working directory. To include other modules, use the **`module` block**:

### Example:
```hcl
module "network" {
  source = "./modules/network"
  cidr_block = "10.0.0.0/16"
}
```
This allows Terraform to load and process configuration files from the referenced module directory or source.

---

## 4. Local and Remote Modules
Modules can be sourced from either:
- **Local filesystem** ‚Äî `source = "./modules/vpc"`
- **Remote sources** ‚Äî such as:
  - Terraform Registry (`source = "terraform-aws-modules/vpc/aws"`)
  - GitHub (`source = "github.com/org/repo//path?ref=tag"`)
  - HTTP URLs
  - HCP Terraform private registries

This flexibility allows teams to share and reuse code efficiently.

---

## 5. Best Practices for Using Modules

### üè∑Ô∏è **Naming Convention**
Use the format:
```
terraform-<PROVIDER>-<NAME>
```
Example: `terraform-aws-network`  
> Required when publishing to the Terraform or HCP Terraform Registry.

### üß© **Design with Modules in Mind**
Even small configurations benefit from modular design ‚Äî it improves structure and scalability.

### üèóÔ∏è **Use Local Modules First**
Organize configurations with local modules before publishing. It simplifies updates and helps transition to shared modules later.

### üîç **Use the Terraform Registry**
Leverage **public modules** to implement common infrastructure patterns quickly and reliably.

### ü§ù **Publish and Share**
Collaborate by sharing internal or public modules. Modules can be:
- Used in **root modules** (via `module` blocks)
- Published for **no-code provisioning** in HCP Terraform

---

## 6. Key Takeaways
- **Modules** structure Terraform code into manageable, reusable components.
- They promote **encapsulation**, **consistency**, and **team collaboration**.
- Use both **local** and **remote** modules to scale infrastructure safely.
- Follow best practices for naming, organization, and sharing to maintain clean, reliable configurations.

---

## 7. Next Steps
In the next tutorial, you will:
- **Build and apply** a Terraform configuration that uses modules from the Terraform Registry.
- Learn how to reference and customize external modules for your own infrastructure.

For more details, explore:
- [Terraform Registry Modules](https://registry.terraform.io/)
- [HCP Terraform Documentation](https://developer.hashicorp.com/terraform/cloud-docs)

